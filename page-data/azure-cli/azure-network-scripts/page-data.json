{
    "componentChunkName": "component---node-modules-gatsby-theme-kb-src-templates-topic-js",
    "path": "/azure-cli/azure-network-scripts",
    "result": {"data":{"file":{"childMdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"tags\": \"azure, cloud, az-900, azure-cli, networking\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Operations on Azure Virtual Network with Cloud CLI\"), mdx(\"p\", null, \"This page lists some scripts useful for operating on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/azure-virtual-network\",\n    \"title\": \"azure-virtual-network\"\n  }, \"[[azure-virtual-network]]\"), \".\"), mdx(\"h2\", null, \"List Network Security Groups\"), mdx(\"p\", null, \"With this script you can list the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/azure-virtual-network\",\n    \"title\": \"azure-virtual-network\"\n  }, \"[[azure-virtual-network]]\"), \" that are associated with your VM:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"az network nsg list\\n  --resource-group  ID-RESOURCE-GROUP\\n  --query \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'[].name'\"), \"\\n  --output tsv\"))), mdx(\"h2\", null, \"List all rules associated with a Security Groups\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"az network nsg rule list\\n  --resource-group ID-RESOURCE-GROUP\\n  --nsg-name my-vmNSG\"))), mdx(\"p\", null, \"will return\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"json\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-json\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"access\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Allow\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"destinationAddressPrefix\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"*\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"destinationAddressPrefixes\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"destinationPortRange\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"22\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"destinationPortRanges\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"direction\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Inbound\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"etag\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"W/\\\\\\\"82cb791f-ba84-474a-9480-40e40ee60f2a\\\\\\\"\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"id\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"/subscriptions/a-guid/resourceGroups/resource-group-id/providers/Microsoft.Network/networkSecurityGroups/my-vmNSG/securityRules/default-allow-ssh\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"name\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"default-allow-ssh\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"priority\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1000\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"protocol\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Tcp\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"provisioningState\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Succeeded\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"resourceGroup\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"resource-group-id\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"sourceAddressPrefix\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"*\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"sourceAddressPrefixes\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"sourcePortRange\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"*\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"sourcePortRanges\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"type\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Microsoft.Network/networkSecurityGroups/securityRules\\\"\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\")))), mdx(\"p\", null, \"You can return a subset of those fileds by specifying only the fields you need (you can even rename them):\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"--query \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'[].{Name:name, Priority:priority, Port:destinationPortRange, Access:access}'\")))), mdx(\"h2\", null, \"How to add a security rule on an existing Security Groups\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"az network nsg rule create\\n  --resource-group RESOURCE-GROUP-ID\\n  --nsg-name SECURITY-GROUP-ID\\n  --name RULE-NAME\\n  --protocol tcp\\n  --priority \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"100\"), \"\\n  --destination-port-range \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"80\"), \"\\n  --access Allow\"))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"","private":false},"tableOfContents":{"items":[{"url":"#operations-on-azure-virtual-network-with-cloud-cli","title":"Operations on Azure Virtual Network with Cloud CLI","items":[{"url":"#list-network-security-groups","title":"List Network Security Groups"},{"url":"#list-all-rules-associated-with-a-security-groups","title":"List all rules associated with a Security Groups"},{"url":"#how-to-add-a-security-rule-on-an-existing-security-groups","title":"How to add a security rule on an existing Security Groups"}]}]},"outboundReferences":[{"contextLine":"This page lists some scripts useful for operating on [[azure-virtual-network]].","targetAnchor":null,"refWord":"azure-virtual-network","target":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"tags\": \"azure, cloud, az-900, networking, iaas\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Azure Virtual Network\"), mdx(\"p\", null, \"It's a virtual network that allows services within Azure to communicate.\"), mdx(\"p\", null, \"You can also add on-prem endpoints and add them to the Virtual Network.\"), mdx(\"p\", null, \"You can create both private and public endpoints:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"public endpoints\"), \": these endpoints have a public IP that can be accessed from everywhere;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"private endpoints\"), \": these endpoints have an IP that can be accessed only within the same network.\")), mdx(\"h2\", null, \"Isolation and Segmentation\"), mdx(\"p\", null, \"You can create multiple isolated networks, defining a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"private IP address space\"), \".\"), mdx(\"p\", null, \"The IP range only exists within the virtual network and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"isn't internet routable\"), \". You can divide that IP address space into \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"subnets\"), \" and allocate part of the defined address space to each named subnet.\"), mdx(\"p\", null, \"You can resolve the names using the built-in name resolution service.\"), mdx(\"h2\", null, \"Internet communications\"), mdx(\"p\", null, \"Each service within the Azure Virtual Network can have a set of public IPs so that they can be accessed by external clients.\"), mdx(\"p\", null, \"You can configure a load balancer to handle resources usage.\"), mdx(\"h2\", null, \"Communication between Azure resources\"), mdx(\"p\", null, \"You can have Azure Resources communicate in two ways:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Virtual networks\"), \": several Azure resources can communicate using the same network, and share the same traffic.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Service endpoints\"), \": specific endpoints to communicate with an Azure resource, like Azure SQL databases.\")), mdx(\"h2\", null, \"Communicate with on-premises resources\"), mdx(\"p\", null, \"You can link on-prem resources using an Azure subscription, so that the network includes both services hosted on Azure and services hosted on a local environment.\"), mdx(\"p\", null, \"You can achieve this kind of connectivity using:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Point-to-site VPN\"), \" connections: using a VPN, you can access an Azure Resources from a computer outside that network;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Site-to-site VPN\"), \": link your local VPN with an Azure VPN, to make it appear to be a single, local, network;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\", mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/azure-expressroute\",\n    \"title\": \"azure-expressroute\"\n  }, \"[[azure-expressroute]]\"), \"\"), \": it's a dedicated connectivity to Azure that does not travel over the internet. Useful when you need greater bandwidth and higher levels of security.\")), mdx(\"h2\", null, \"Route network traffic\"), mdx(\"p\", null, \"By default, Azure routes traffic between subnets on any connected virtual networks, on-premises networks, and the internet.\"), mdx(\"p\", null, \"You also can control routing and override those settings, as follows:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\", mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/Route-tables\",\n    \"title\": \"Route tables\"\n  }, \"[[Route tables]]\"), \"\"), \" allow you to define rules about how traffic should be directed. You can create custom route tables that control \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"how packets are routed between subnets\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\", mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/Border-Gateway-Protocol-(BGP)\",\n    \"title\": \"Border Gateway Protocol (BGP)\"\n  }, \"[[Border Gateway Protocol (BGP)]]\"), \"\"), \" works with Azure VPN gateways, Azure Route Server, or Azure ExpressRoute to propagate on-premises BGP routes to Azure virtual networks\")), mdx(\"h2\", null, \"Filter network traffic\"), mdx(\"p\", null, \"Azure virtual networks enable you to filter traffic between subnets by using the following approaches:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Network security groups\"), \" are Azure resources that can contain \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"multiple inbound and outbound security rules\"), \". You can define these rules to allow or block traffic, based on factors such as source and destination IP address, port, and protocol.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Network virtual appliances\"), \" are \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"specialized VMs\"), \" that can be compared to a hardened network appliance. A network virtual appliance carries out a particular network function, such as running a firewall or performing wide area network (WAN) optimization.\")), mdx(\"h2\", null, \"Network Peering\"), mdx(\"p\", null, \"You can link virtual networks together by using \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"virtual network peering\"), \".\"), mdx(\"p\", null, \"Network traffic between peered networks is private, and travels on the Microsoft backbone network, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"never entering the public internet\"), \".\"), mdx(\"p\", null, \"\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/User-defined-routes-(UDR)\",\n    \"title\": \"User-defined routes (UDR)\"\n  }, \"[[User-defined routes (UDR)]]\"), \" allow you to control the routing tables between subnets within a virtual network or between virtual networks. This allows for greater control over network traffic flow.\"), mdx(\"h2\", null, \"Additional resources\"), mdx(\"p\", null, \"You can use the Azure Shell to operate on a Virtual Network: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/azure-network-scripts\",\n    \"title\": \"azure-network-scripts\"\n  }, \"[[azure-network-scripts]]\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","parent":{"id":"d43db6af-b363-5f6d-843c-d7d238a279fb","fields":{"slug":"/azure/azure-virtual-network","title":"Azure Virtual Network"}}}},{"contextLine":"With this script you can list the [[azure-virtual-network]] that are associated with your VM:","targetAnchor":null,"refWord":"azure-virtual-network","target":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"tags\": \"azure, cloud, az-900, networking, iaas\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", null, \"Azure Virtual Network\"), mdx(\"p\", null, \"It's a virtual network that allows services within Azure to communicate.\"), mdx(\"p\", null, \"You can also add on-prem endpoints and add them to the Virtual Network.\"), mdx(\"p\", null, \"You can create both private and public endpoints:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"public endpoints\"), \": these endpoints have a public IP that can be accessed from everywhere;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"private endpoints\"), \": these endpoints have an IP that can be accessed only within the same network.\")), mdx(\"h2\", null, \"Isolation and Segmentation\"), mdx(\"p\", null, \"You can create multiple isolated networks, defining a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"private IP address space\"), \".\"), mdx(\"p\", null, \"The IP range only exists within the virtual network and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"isn't internet routable\"), \". You can divide that IP address space into \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"subnets\"), \" and allocate part of the defined address space to each named subnet.\"), mdx(\"p\", null, \"You can resolve the names using the built-in name resolution service.\"), mdx(\"h2\", null, \"Internet communications\"), mdx(\"p\", null, \"Each service within the Azure Virtual Network can have a set of public IPs so that they can be accessed by external clients.\"), mdx(\"p\", null, \"You can configure a load balancer to handle resources usage.\"), mdx(\"h2\", null, \"Communication between Azure resources\"), mdx(\"p\", null, \"You can have Azure Resources communicate in two ways:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Virtual networks\"), \": several Azure resources can communicate using the same network, and share the same traffic.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Service endpoints\"), \": specific endpoints to communicate with an Azure resource, like Azure SQL databases.\")), mdx(\"h2\", null, \"Communicate with on-premises resources\"), mdx(\"p\", null, \"You can link on-prem resources using an Azure subscription, so that the network includes both services hosted on Azure and services hosted on a local environment.\"), mdx(\"p\", null, \"You can achieve this kind of connectivity using:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Point-to-site VPN\"), \" connections: using a VPN, you can access an Azure Resources from a computer outside that network;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Site-to-site VPN\"), \": link your local VPN with an Azure VPN, to make it appear to be a single, local, network;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\", mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/azure-expressroute\",\n    \"title\": \"azure-expressroute\"\n  }, \"[[azure-expressroute]]\"), \"\"), \": it's a dedicated connectivity to Azure that does not travel over the internet. Useful when you need greater bandwidth and higher levels of security.\")), mdx(\"h2\", null, \"Route network traffic\"), mdx(\"p\", null, \"By default, Azure routes traffic between subnets on any connected virtual networks, on-premises networks, and the internet.\"), mdx(\"p\", null, \"You also can control routing and override those settings, as follows:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\", mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/Route-tables\",\n    \"title\": \"Route tables\"\n  }, \"[[Route tables]]\"), \"\"), \" allow you to define rules about how traffic should be directed. You can create custom route tables that control \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"how packets are routed between subnets\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"\", mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/Border-Gateway-Protocol-(BGP)\",\n    \"title\": \"Border Gateway Protocol (BGP)\"\n  }, \"[[Border Gateway Protocol (BGP)]]\"), \"\"), \" works with Azure VPN gateways, Azure Route Server, or Azure ExpressRoute to propagate on-premises BGP routes to Azure virtual networks\")), mdx(\"h2\", null, \"Filter network traffic\"), mdx(\"p\", null, \"Azure virtual networks enable you to filter traffic between subnets by using the following approaches:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Network security groups\"), \" are Azure resources that can contain \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"multiple inbound and outbound security rules\"), \". You can define these rules to allow or block traffic, based on factors such as source and destination IP address, port, and protocol.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"Network virtual appliances\"), \" are \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"specialized VMs\"), \" that can be compared to a hardened network appliance. A network virtual appliance carries out a particular network function, such as running a firewall or performing wide area network (WAN) optimization.\")), mdx(\"h2\", null, \"Network Peering\"), mdx(\"p\", null, \"You can link virtual networks together by using \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"virtual network peering\"), \".\"), mdx(\"p\", null, \"Network traffic between peered networks is private, and travels on the Microsoft backbone network, \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"never entering the public internet\"), \".\"), mdx(\"p\", null, \"\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/User-defined-routes-(UDR)\",\n    \"title\": \"User-defined routes (UDR)\"\n  }, \"[[User-defined routes (UDR)]]\"), \" allow you to control the routing tables between subnets within a virtual network or between virtual networks. This allows for greater control over network traffic flow.\"), mdx(\"h2\", null, \"Additional resources\"), mdx(\"p\", null, \"You can use the Azure Shell to operate on a Virtual Network: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/azure-network-scripts\",\n    \"title\": \"azure-network-scripts\"\n  }, \"[[azure-network-scripts]]\"), \".\"));\n}\n;\nMDXContent.isMDXComponent = true;","parent":{"id":"d43db6af-b363-5f6d-843c-d7d238a279fb","fields":{"slug":"/azure/azure-virtual-network","title":"Azure Virtual Network"}}}}],"inboundReferences":[{"contextLine":"You can use the Azure Shell to operate on a Virtual Network: [[azure-network-scripts]].","referrer":{"parent":{"id":"d43db6af-b363-5f6d-843c-d7d238a279fb","fields":{"slug":"/azure/azure-virtual-network","title":"Azure Virtual Network"}}}}]},"fields":{"slug":"/azure-cli/azure-network-scripts","title":"Operations on Azure Virtual Network with Cloud CLI"}}},"pageContext":{"id":"7a2687de-63b0-545f-a88d-0d30665fb5c8","refWordMdxSlugDict":{"azure-virtual-network":"azure/azure-virtual-network","azure-expressroute":"azure/azure-expressroute","azure-network-scripts":"azure-cli/azure-network-scripts"},"tocTypes":["sidebar"]}},
    "staticQueryHashes": ["2221750479","2380733210","2768355698","63159454","847517413"]}